#include <stdio.h>
#define SIZE 5

struct Cir_Queue {
    unsigned long int canId;
    int front;
    int rear;
    int can[SIZE];
};

int isFull(struct Cir_Queue* queue) {
    if (queue->front == 0 && queue->rear == SIZE - 1) {
        return 1;
    }
    if (queue->front == queue->rear + 1) {
        return 1;
    }
    return 0;
}

int isEmpty(struct Cir_Queue* queue) {
    if (queue->front == -1)
        return 1;
    else
        return 0;
}

void enQueue(struct Cir_Queue* queue, int element) {
    if (isFull(queue)) {
        printf("Queue is full\n");
    } else {
        if (queue->front == -1) {
            queue->front = 0;
        }
        queue->rear = (queue->rear + 1) % SIZE;
        queue->can[queue->rear] = element;
        printf("Enqueued: %d\n", element);
    }
}

void deQueue(struct Cir_Queue* queue) {
    int element;
    if (isEmpty(queue)) {
        printf("Queue is empty\n");
    } else {
        element = queue->can[queue->front];
        if (queue->front == queue->rear) {
            queue->front = -1;
            queue->rear = -1;
        } else {
            queue->front = (queue->front + 1) % SIZE;
        }
        printf("Dequeued: %d\n", element);
    }
}

int main() {
    unsigned long int id[100] = {201,1890400,14520902};
    struct Cir_Queue c1;

    for(int i=0;i<3;i++){
        c1.canId = id[i];
        c1.front = -1;
        c1.rear = -1;
        
        printf("Can ID : %ld\n",c1.canId);
        for (int i = 0; i < SIZE; i++) {
            enQueue(&c1, i);
        }
        for (int i = 0; i < SIZE; i++) {
            deQueue(&c1);
        }
        deQueue(&c1);
        printf("\n/***********/\n canID is finished\n/*****************/\n\n");
        
    }

    return 0;
}
